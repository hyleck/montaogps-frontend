<div class="main">
    <div class="user-form">
        <div class="user-form__tools">
            <div class="card">
                <p-tabView>
                    <p-tabPanel header="Información Personal">
                        <div class="user-form__base">
                            <form class="user-form__form" (ngSubmit)="onSubmit()">
                                <div class="user-form__field">
                                    <label for="name">Nombre</label>
                                    <input 
                                        [(ngModel)]="user.name"
                                        name="name"
                                        placeholder="Ej: Juan" 
                                        type="text" 
                                        id="name" 
                                    >
                                </div>

                                <div class="user-form__field">
                                    <label for="last_name">Apellidos</label>
                                    <input 
                                        [(ngModel)]="user.last_name"
                                        name="last_name"
                                        placeholder="Ej: Pérez" 
                                        type="text" 
                                        id="last_name" 
                                    >
                                </div>

                                <div class="user-form__field">
                                    <label for="email">Correo Electrónico</label>
                                    <input 
                                        [(ngModel)]="user.email"
                                        name="email"
                                        placeholder="Ej: juan@ejemplo.com" 
                                        type="email" 
                                        id="email" 
                                    >
                                </div>

                                <div class="user-form__field">
                                    <label for="dni">DNI/Cédula</label>
                                    <input 
                                        [(ngModel)]="user.dni"
                                        name="dni"
                                        placeholder="Ej: 001-0000000-0" 
                                        type="text" 
                                        id="dni" 
                                    >
                                </div>

                                <div class="user-form__field">
                                    <label for="birth">Fecha de Nacimiento</label>
                                    <input 
                                        [(ngModel)]="user.birth"
                                        name="birth"
                                        type="date" 
                                        id="birth" 
                                    >
                                </div>

                                <div class="user-form__field">
                                    <label for="address">Dirección</label>
                                    <input 
                                        [(ngModel)]="user.address"
                                        name="address"
                                        placeholder="Ej: Calle Principal #123" 
                                        type="text" 
                                        id="address" 
                                    >
                                </div>

                                <div class="user-form__field">
                                    <label for="phone">Teléfono Principal</label>
                                    <input 
                                        [(ngModel)]="user.phone"
                                        name="phone"
                                        placeholder="Ej: (809) 555-0123" 
                                        type="tel" 
                                        id="phone" 
                                    >
                                </div>

                                <div class="user-form__field">
                                    <label for="phone2">Teléfono Secundario</label>
                                    <input 
                                        [(ngModel)]="user.phone2"
                                        name="phone2"
                                        placeholder="Ej: (809) 555-0124" 
                                        type="tel" 
                                        id="phone2" 
                                    >
                                </div>

                                <div class="user-form__field">
                                    <label for="password">Contraseña</label>
                                    <input 
                                        [(ngModel)]="user.password"
                                        name="password"
                                        type="password" 
                                        id="password" 
                                    >
                                </div>

                                <div class="user-form__field">
                                    <label for="photo">Foto</label>
                                    <input 
                                        [(ngModel)]="user.photo"
                                        name="photo"
                                        type="file" 
                                        id="photo" 
                                        accept="image/*"
                                    >
                                </div>

                                <div class="user-form__field">
                                    <button type="submit" class="button button--primary-flat">
                                        <i class="pi pi-save"></i> Guardar
                                    </button>
                                </div>
                            </form>
                        </div>
                    </p-tabPanel>

                    <p-tabPanel header="Privilegios">
                        <div class="user-form__base">
                            <form class="user-form__form" (ngSubmit)="onSavePrivileges()">
                                <div class="user-form__field user-form__field--full">
                                    <label>Módulo</label>
                                    <select [(ngModel)]="user.privileges[0].module" name="module">
                                        <option value="">Seleccionar módulo</option>
                                        <option *ngFor="let module of modules" [value]="module.value">
                                            {{module.label}}
                                        </option>
                                    </select>
                                </div>

                                <div class="user-form__field">
                                    <label>
                                        <input 
                                            type="checkbox" 
                                            [(ngModel)]="user.privileges[0].actions.create"
                                            name="create"
                                        > Crear
                                    </label>
                                </div>

                                <div class="user-form__field">
                                    <label>
                                        <input 
                                            type="checkbox" 
                                            [(ngModel)]="user.privileges[0].actions.read"
                                            name="read"
                                        > Leer
                                    </label>
                                </div>

                                <div class="user-form__field">
                                    <label>
                                        <input 
                                            type="checkbox" 
                                            [(ngModel)]="user.privileges[0].actions.update"
                                            name="update"
                                        > Actualizar
                                    </label>
                                </div>

                                <div class="user-form__field">
                                    <label>
                                        <input 
                                            type="checkbox" 
                                            [(ngModel)]="user.privileges[0].actions.delete"
                                            name="delete"
                                        > Eliminar
                                    </label>
                                </div>

                                <div class="user-form__field">
                                    <button type="submit" class="button button--primary-flat">
                                        <i class="pi pi-save"></i> Guardar Privilegios
                                    </button>
                                </div>
                            </form>
                        </div>
                    </p-tabPanel>

                    <p-tabPanel header="Configuración">
                        <div class="user-form__base">
                            <form class="user-form__form" (ngSubmit)="onSaveSettings()">
                                <div class="user-form__field">
                                    <label for="theme">Tema</label>
                                    <select 
                                        [(ngModel)]="user.settings[0].theme"
                                        name="theme"
                                        id="theme"
                                    >
                                        <option *ngFor="let theme of themes" [value]="theme.value">
                                            {{theme.label}}
                                        </option>
                                    </select>
                                </div>

                                <div class="user-form__field">
                                    <label for="language">Idioma</label>
                                    <select 
                                        [(ngModel)]="user.settings[0].language"
                                        name="language"
                                        id="language"
                                    >
                                        <option *ngFor="let lang of languages" [value]="lang.value">
                                            {{lang.label}}
                                        </option>
                                    </select>
                                </div>

                                <div class="user-form__field">
                                    <label>
                                        <input 
                                            type="checkbox" 
                                            [(ngModel)]="user.settings[0].notifications"
                                            name="notifications"
                                        > Activar notificaciones
                                    </label>
                                </div>

                                <div class="user-form__field">
                                    <button type="submit" class="button button--primary-flat">
                                        <i class="pi pi-save"></i> Guardar Configuración
                                    </button>
                                </div>
                            </form>
                        </div>
                    </p-tabPanel>
                </p-tabView>
            </div>
        </div>
    </div>
</div>
